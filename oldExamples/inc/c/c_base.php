<?phpabstract class c_base extends c_controller {	protected $title;			protected $menu;	protected $content;				protected function before() {session_start();m_users::get_instance()->clear_sessions();$this->check_rights();}	protected function after() {$this->title=m_site_pages::get_instance()->get_page_title().' || '.m_site_pages::get_instance()->get_site_name();}	public function render() {						$vars = array('title' => $this->title, 'menu'=>$this->menu, 'content' => $this->content);	$page = $this->template('inc/v/v_main.php', $vars);				header('Content-type: text/html; charset=utf-8');		die("{$page}");	}	protected function check_rights() {$m_users = m_users::get_instance();if (!$m_users->check_rights()) {//die(print_r($m_users->errors));if ($m_users->is_error('such_page_does_not_exist')) $this->__call();else if ($m_users->is_error('the_user_is_not_authorized')) die(header("location: /auth"));else if ($m_users->is_error('insufficient_rights')) $this->rights_error();else  die('Ошибка доступа');}}
protected function make_page($vars=[]) {
$file_name='inc/v/themes/'.CONTROLLER.'/v_'.ACTION.'.php';return $this->template($file_name, $vars);}				}